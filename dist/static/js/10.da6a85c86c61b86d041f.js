webpackJsonp([10],{"/1AN":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("l/JR"),l={0:"全场赠券",1:"会员赠券",2:"注册赠券"},a={0:"全场通用",1:"指定商品",2:"指定分类"},p={0:"全平台",1:"移动平台",2:"PC平台"},r={data:function(){return{coupon:{couponName:"",couponType:"",platform:"",total:"",min:"",discount:"",limit:1,timeType:0,goodsType:0},rules:{couponName:[{required:!0,message:"请输入优惠券名称",trigger:"blur"},{min:2,max:40,message:"优惠券名称长度必须为2到40个字符之间",trigger:"blur"}],total:[{type:"number",required:!0,message:"面值只能是数值",trigger:"blur"}],discount:[{type:"number",required:!0,message:"面值只能是数值，限2位小数",trigger:"blur"}],min:[{type:"number",required:!0,message:"只能输入正整数",trigger:"blur"}]},goodsTypeMap:a,typeMap:l,platformMap:p,isEdit:!1}},created:function(){this.$route.query.id?this.isEdit=!0:this.isEdit=!1},methods:{handleSubmit:function(e){var o=this;this.$refs[e].validate(function(t){t?o.$confirm("确定要提交吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.isEdit?Object(n.o)(o.$route.query.id,o.coupon).then(function(t){t&&t.success&&(o.$refs[e].resetFields(),o.$message({message:"修改成功",type:"success",duration:1e3}),o.$router.back())}):Object(n.c)(o.coupon).then(function(t){t&&t.success&&(o.$refs[e].resetFields(),o.$message({message:"修改成功",type:"success",duration:1e3}),o.$router.push({path:"/promotion/coupon"}))})}):o.$message({message:"验证失败",type:"error",duration:1e3})})}}},s={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("section",[t("el-form",{ref:"couponForm",attrs:{model:e.coupon,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"优惠券名称：",prop:"couponName"}},[t("el-input",{model:{value:e.coupon.couponName,callback:function(o){e.$set(e.coupon,"couponName",o)},expression:"coupon.couponName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠券类型：",prop:"couponType"}},[t("el-select",{model:{value:e.coupon.couponType,callback:function(o){e.$set(e.coupon,"couponType",o)},expression:"coupon.couponType"}},e._l(e.typeMap,function(e,o){return t("el-option",{key:e,attrs:{label:e,value:o}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"适用平台：",prop:""}},[t("el-select",{model:{value:e.coupon.platform,callback:function(o){e.$set(e.coupon,"platform",o)},expression:"coupon.platform"}},e._l(e.platformMap,function(e,o){return t("el-option",{key:e,attrs:{label:e,value:o}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"发行量：",prop:"total"}},[t("el-input",{attrs:{placeholder:"只能输入正整数"},model:{value:e.coupon.total,callback:function(o){e.$set(e.coupon,"total",e._n(o))},expression:"coupon.total"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"最低消费：",prop:"min"}},[t("el-input",{attrs:{placeholder:"面值只能是数值，限2位小数"},model:{value:e.coupon.min,callback:function(o){e.$set(e.coupon,"min",e._n(o))},expression:"coupon.min"}},[t("template",{slot:"prepend"},[e._v("满")]),e._v(" "),t("template",{slot:"append"},[e._v("元可用")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"满减金额：",prop:"discount"}},[t("el-input",{attrs:{placeholder:"面值只能是数值，限2位小数"},model:{value:e.coupon.discount,callback:function(o){e.$set(e.coupon,"discount",e._n(o))},expression:"coupon.discount"}},[t("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"每人限领：",prop:"limit"}},[t("el-input",{model:{value:e.coupon.limit,callback:function(o){e.$set(e.coupon,"limit",o)},expression:"coupon.limit"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"有效期：",prop:"timeType"}},[t("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.coupon.startTime,callback:function(o){e.$set(e.coupon,"startTime",o)},expression:"coupon.startTime"}}),e._v(" "),t("span",{staticStyle:{"margin-right":"20px"}},[e._v("至")]),e._v(" "),t("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.coupon.endTime,callback:function(o){e.$set(e.coupon,"endTime",o)},expression:"coupon.endTime"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用范围：",prop:"goodsType"}},[t("el-radio-group",{model:{value:e.coupon.goodsType,callback:function(o){e.$set(e.coupon,"goodsType",e._n(o))},expression:"coupon.goodsType"}},e._l(e.goodsTypeMap,function(o,n){return t("el-radio-button",{attrs:{label:n}},[e._v(e._s(o))])}))],1),e._v(" "),1===e.coupon.goodsType||2==e.coupon.goodsType?t("el-form-item",{attrs:{label:""}},[e._v("\n      目前不支持\n    ")]):e._e()],1),e._v(" "),t("div",{staticClass:"op-container mt40"},[t("el-button",[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(o){e.handleSubmit("couponForm")}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var u=t("VU/8")(r,s,!1,function(e){t("u+s8")},"data-v-7e756a36",null);o.default=u.exports},"u+s8":function(e,o){}});
//# sourceMappingURL=10.da6a85c86c61b86d041f.js.map