{"version":3,"sources":["webpack:///src/components/login/login.vue","webpack:///./src/components/login/login.vue?eec2","webpack:///./src/components/login/login.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["login_login","data","loginForm","userName","pwd","loginRules","required","message","trigger","remenbered","showpwd","computed","icon","this","pwdInput","mounted","user","JSON","parse","localStorage","getItem","username","password","methods","login","_this","$refs","validate","valid","loginParam","role","Object","request","then","success","console","log","sessionStorage","setItem","stringify_default","$message","type","msg","$router","push","path","components_login_login","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","rules","label-width","_v","prop","label","placeholder","value","callback","$$v","$set","expression","class","on","mousedown","$event","mouseup","plain","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","stringify","it","apply","arguments"],"mappings":"sJAuBAA,GACAC,KADA,WAEA,OACAC,WACAC,SAAA,GACAC,IAAA,IAEAC,YACAF,WACAG,UAAA,EAAAC,QAAA,SAAAC,QAAA,SAEAJ,MACAE,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAGAC,YAAA,EACAC,SAAA,IAKAC,UACAC,KADA,WAEA,OAAAC,KAAAH,QAAA,mBAEAI,SAJA,WAKA,OAAAD,KAAAH,QAAA,oBAGAK,QA7BA,WA8BA,IAAAC,EAAAC,KAAAC,MAAAC,aAAAC,QAAA,SACAJ,IACAH,KAAAX,WACAC,SAAAa,EAAAK,SACAjB,IAAAY,EAAAM,YAIAC,SACAC,MADA,WACA,IAAAC,EAAAZ,KACAA,KAAAa,MAAAxB,UAAAyB,SAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAC,GAAAR,SAAAI,EAAAvB,UAAAC,SAAAmB,SAAAG,EAAAvB,UAAAE,KACA0B,OAAA,EACAT,EAAAQ,EAAAR,SAEAS,EADA,UAAAD,EAAAR,SACA,QAEA,MAEUU,OAAAC,EAAA,EAAAD,CAAVF,GAAAI,KAAA,SAAAhC,GACA,GAAAA,KAAAiC,QAAA,CACAC,QAAAC,IAAAnC,GACA,IAAAe,EAAAf,OACAe,EAAAK,WACAL,EAAAc,OACAd,EAAAM,SAAAO,EAAAP,SACAe,eAAAC,QAAA,OAAAC,IAAAvB,IACAS,EAAAhB,YACAU,aAAAmB,QAAA,OAAAC,IAAAvB,IAEAS,EAAAe,UACAC,KAAA,UACAlC,QAAAN,EAAAyC,MAEAjB,EAAAkB,QAAAC,MAAAC,KAAA,WAEApB,EAAAe,UACAjC,QAAAN,EAAAyC,IACAD,KAAA,kBCzFeK,GADEC,OAFjB,WAA0B,IAAAC,EAAAnC,KAAaoC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,mBAA6BF,EAAA,WAAgBG,IAAA,YAAAD,YAAA,mBAAAE,OAAsDC,MAAAR,EAAA9C,UAAAuD,MAAAT,EAAA3C,WAAAqD,cAAA,UAAmEP,EAAA,MAAWE,YAAA,UAAoBL,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,gBAAkDI,OAAOK,KAAA,WAAAC,MAAA,QAAgCV,EAAA,YAAiBI,OAAOd,KAAA,OAAAqB,YAAA,OAAkCN,OAAQO,MAAAf,EAAA9C,UAAA,SAAA8D,SAAA,SAAAC,GAAwDjB,EAAAkB,KAAAlB,EAAA9C,UAAA,WAAA+D,IAAyCE,WAAA,yBAAkC,GAAAnB,EAAAW,GAAA,KAAAR,EAAA,gBAAqCE,YAAA,aAAAE,OAAgCK,KAAA,MAAAC,MAAA,QAA2BV,EAAA,YAAiBG,IAAA,MAAAC,OAAiBd,KAAAO,EAAAlC,SAAAgD,YAAA,MAAuCN,OAAQO,MAAAf,EAAA9C,UAAA,IAAA8D,SAAA,SAAAC,GAAmDjB,EAAAkB,KAAAlB,EAAA9C,UAAA,MAAA+D,IAAoCE,WAAA,mBAA6BnB,EAAAW,GAAA,KAAAR,EAAA,KAAsBE,YAAA,aAAAe,OAAA,MAAApB,EAAApC,MAAAyD,IAAoDC,UAAA,SAAAC,GAA6BvB,EAAAtC,SAAA,GAAiB8D,QAAA,SAAAD,GAA4BvB,EAAAtC,SAAA,OAAoB,GAAAsC,EAAAW,GAAA,KAAAR,EAAA,gBAAqCI,OAAOG,cAAA,OAAmBP,EAAA,aAAkBE,YAAA,YAAAE,OAA+BkB,MAAA,IAAWJ,IAAKK,MAAA1B,EAAAxB,SAAmBwB,EAAAW,GAAA,gBAAAX,EAAAW,GAAA,KAAAR,EAAA,OAAAA,EAAA,eAAiEE,YAAA,WAAAG,OAA8BO,MAAAf,EAAA,WAAAgB,SAAA,SAAAC,GAAgDjB,EAAAvC,WAAAwD,GAAmBE,WAAA,gBAA0BnB,EAAAW,GAAA,mBAE51CgB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE9E,EACA8C,GATF,EAVA,SAAAiC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,mDC1BhCK,EAAAC,SAAkBC,QAAYN,EAAQ,QAAmCO,YAAA,yBCAzE,IAAAC,EAAWR,EAAQ,QACnBS,EAAAD,EAAApE,OAAAoE,EAAApE,MAAuCsE,UAAAtE,KAAAsE,YACvCN,EAAAC,QAAA,SAAAM,GACA,OAAAF,EAAAC,UAAAE,MAAAH,EAAAI","file":"static/js/3.10c04e647caa6f4e9dd5.js","sourcesContent":["<template >\r\n  <section class=\"loginContainer\">\r\n    <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" label-width=\"80px\" class=\"loginFormWrapper\">\r\n      <h3 class=\"title\">用户登录</h3>\r\n      <el-form-item prop=\"userName\" label=\"姓名\">\r\n        <el-input type=\"text\" v-model=\"loginForm.userName\" placeholder=\"用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"pwd\" label=\"密码\" class=\"pwdWrapper\">\r\n        <el-input :type=\"pwdInput\" v-model=\"loginForm.pwd\" placeholder=\"密码\" ref=\"pwd\"></el-input>\r\n        <i :class=\"['fa-'+icon]\" class=\"showpwd fa\" @mousedown=\"showpwd=true\" @mouseup=\"showpwd=false\"></i>\r\n      </el-form-item>\r\n      <el-form-item label-width=\"0\">\r\n        <el-button class=\"submitBtn\" @click=\"login\" plain>登录</el-button>\r\n      </el-form-item>\r\n    </el-form>  \r\n    <div>\r\n      <el-checkbox v-model=\"remenbered\" class=\"remenber\">记住密码</el-checkbox>\r\n    </div>   \r\n  </section>                                 \r\n</template>\r\n<script type=\"text/ecmascript-6\" >\r\n  import config from 'api/config'\r\n  import {requestLogin} from 'api/request'\r\n  export default {\r\n    data() {\r\n      return {\r\n        loginForm: {\r\n          userName: '',\r\n          pwd: ''\r\n        },\r\n        loginRules: {\r\n          userName: [\r\n            {required: true, message: '请输入用户名',trigger: 'blur'}\r\n          ],\r\n          pwd: [\r\n            {required: true, message: '请输入密码', trigger: 'blur'}\r\n          ]\r\n        },\r\n        remenbered: true,\r\n        showpwd: false\r\n        // pwdInput: 'password'\r\n        //icon: 'eye-slash'\r\n      }\r\n    },\r\n    computed: {\r\n      icon() {\r\n        return this.showpwd ? 'eye' : 'eye-slash'\r\n      },\r\n      pwdInput() {\r\n        return this.showpwd ? 'text' : 'password'\r\n      }\r\n    },\r\n    mounted() {\r\n      let user = JSON.parse(localStorage.getItem('user'))\r\n      if(user) {\r\n        this.loginForm = {\r\n          userName: user.username,\r\n          pwd: user.password\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      login() {\r\n        this.$refs.loginForm.validate((valid) => {\r\n          if(valid) {\r\n            let loginParam = {username: this.loginForm.userName, password: this.loginForm.pwd}\r\n            let role\r\n            let username = loginParam.username\r\n            if(loginParam.username === 'admin') {\r\n              role=\"超级管理员\"\r\n            } else {\r\n              role=\"管理员\"\r\n            }\r\n            requestLogin(loginParam).then(data => {                \r\n              if(data && data.success) {  \r\n                console.log(data)      \r\n                let user = data.data\r\n                user.username = username\r\n                user.role = role\r\n                user.password = loginParam.password\r\n                sessionStorage.setItem('user',JSON.stringify(user))\r\n                if(this.remenbered) {\r\n                  localStorage.setItem('user', JSON.stringify(user))\r\n                }\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: data.msg\r\n                })\r\n                this.$router.push({path: '/'})\r\n              } else {\r\n                this.$message({\r\n                  message: data.msg,\r\n                  type: 'error'\r\n                })\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style  scoped>\r\n  .loginContainer {\r\n    width: 350px;\r\n    padding: 30px;\r\n    min-height: 120px;\r\n    margin: 30px auto;\r\n    border: 1px solid #999;\r\n    border-radius: 6px;\r\n  }\r\n  .loginFormWrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;    \r\n  }\r\n  .title {\r\n    height: 50px;\r\n    background-color: ;\r\n    font-size: 26px;\r\n    color: #000;\r\n    font-weight: 600;\r\n  }\r\n  .submitBtn {\r\n    width: 100px;\r\n    height: 40px;\r\n    color: #333;\r\n    font-size: 16px;\r\n    /*justify-content: center;*/\r\n  }\r\n  .pwdWrapper {\r\n    position: relative;\r\n  }\r\n  .showpwd {\r\n    position: absolute;\r\n    padding: 10px 5px;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    font-size: 20px;\r\n    line-height: 1;\r\n    color: grey;\r\n    cursor: pointer;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"loginContainer\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"loginFormWrapper\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-width\":\"80px\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"用户登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"userName\",\"label\":\"姓名\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginForm.userName),callback:function ($$v) {_vm.$set(_vm.loginForm, \"userName\", $$v)},expression:\"loginForm.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"pwdWrapper\",attrs:{\"prop\":\"pwd\",\"label\":\"密码\"}},[_c('el-input',{ref:\"pwd\",attrs:{\"type\":_vm.pwdInput,\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.pwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"pwd\", $$v)},expression:\"loginForm.pwd\"}}),_vm._v(\" \"),_c('i',{staticClass:\"showpwd fa\",class:['fa-'+_vm.icon],on:{\"mousedown\":function($event){_vm.showpwd=true},\"mouseup\":function($event){_vm.showpwd=false}}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label-width\":\"0\"}},[_c('el-button',{staticClass:\"submitBtn\",attrs:{\"plain\":\"\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('div',[_c('el-checkbox',{staticClass:\"remenber\",model:{value:(_vm.remenbered),callback:function ($$v) {_vm.remenbered=$$v},expression:\"remenbered\"}},[_vm._v(\"记住密码\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04195106\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04195106\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04195106\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04195106\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3"],"sourceRoot":""}