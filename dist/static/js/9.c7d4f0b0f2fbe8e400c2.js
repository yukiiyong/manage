webpackJsonp([9],{FqPs:function(e,t){},aEKa:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Dd8w"),r=l.n(a),s=l("l/JR"),o={0:"正常订单",1:"秒杀订单"},i={0:"PC订单",1:"APP订单"},c={1:"待付款",2:"待发货",3:"已发货",4:"已完成",5:"已关闭"},n={data:function(){return{orders:[{id:"",orderSn:"",userName:"",price:0,payWay:"",submitTime:"",orderSource:"",orderStatus:""}],filters:{orderSn:"",userName:"",submitTime:"",orderCategory:"",orderSource:"",orderStatus:""},orderDetail:{order:{orderSn:""}},total:0,page:1,listLoading:!1,dialogVisible:!1,categoryMap:o,sourceMap:i,statusMap:c}},filters:{filterPayWay:function(e){return payWayMap[e]},filterOrderSource:function(e){return i[e]},filterOrderStatus:function(e){return c[e]},createTime:function(e){return new Date(e)}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0;var t=r()({},this.filters,{page:this.page});Object(s.j)(t).then(function(t){t.success&&(e.listLoading=!1,e.orders=t.list,e.total=t.total)}).catch(function(t){e.listLoading=!1,e.$message({type:"danger",message:t})})},resetSearch:function(){this.$refs.form.resetFields()},handleCurrentChange:function(e){this.page=e,this.getList()},showDetail:function(e){var t=this;e&&Object(s.i)({id:e.id}).then(function(e){e&&e.success&&(t.orderDetail=e.data,t.dialogVisible=!0)})},handleDeleteOrder:function(e,t){var l=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then(function(){l.orders.splice(e,1)}),this.getList()},handleCloseOrder:function(e){},handleTraceOrder:function(e){},handleDeliverOrder:function(e){},addCoupon:function(e){this.$router.push({path:"/promotion/addCoupon"})}}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("section",[l("el-card",{staticClass:"mt20",attrs:{shadow:"never"}},[l("div",{staticClass:"search-tit "},[l("i",{staticClass:"el-icon-search"}),e._v(" "),l("span",[e._v("筛选搜索")]),e._v(" "),l("el-button",{staticClass:"search-btn",attrs:{size:"mini"},on:{click:e.resetSearch}},[e._v("重置")]),e._v(" "),l("el-button",{staticClass:"search-btn",attrs:{type:"primary",size:"mini"},on:{click:e.getList}},[e._v("查找")])],1),e._v(" "),l("el-form",{ref:"form",attrs:{model:e.filters,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"订单编号:",prop:"orderSn"}},[l("el-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.filters.orderSn,callback:function(t){e.$set(e.filters,"orderSn",t)},expression:"filters.orderSn"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"用户账号:",prop:"userName"}},[l("el-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.filters.userName,callback:function(t){e.$set(e.filters,"userName",t)},expression:"filters.userName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"提交时间:",prop:"submitTime"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"请输入提交时间"},model:{value:e.filters.submitTime,callback:function(t){e.$set(e.filters,"submitTime",t)},expression:"filters.submitTime"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"订单分类:",prop:"orderCategory"}},[l("el-select",{attrs:{placeholder:"请选择订单分类"},model:{value:e.filters.orderCategory,callback:function(t){e.$set(e.filters,"orderCategory",t)},expression:"filters.orderCategory"}},e._l(e.categoryMap,function(e,t){return l("el-option",{key:e,attrs:{label:e,value:t}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"订单来源:",prop:"orderSource"}},[l("el-select",{attrs:{placeholder:"请选择订单来源"},model:{value:e.filters.orderSource,callback:function(t){e.$set(e.filters,"orderSource",t)},expression:"filters.orderSource"}},e._l(e.sourceMap,function(e,t){return l("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"订单状态:",prop:"orderStatus"}},[l("el-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.filters.orderStatus,callback:function(t){e.$set(e.filters,"orderStatus",t)},expression:"filters.orderStatus"}},e._l(e.statusMap,function(e,t){return l("el-option",{key:e,attrs:{label:e,value:t}})}))],1)],1)],1),e._v(" "),l("el-card",{staticClass:"mt20",attrs:{shadow:"never"}},[l("div",{staticClass:"tit"},[l("i",{staticClass:"fa fa-file-text-o"}),e._v(" "),l("span",[e._v("数据列表")])])]),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{margin:"20px 10px"},attrs:{data:e.orders,border:""}},[l("el-table-column",{attrs:{prop:"orderSn",label:"订单编号",align:"center",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"userName",label:"用户账号",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"totalPrice",label:"订单金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.price))]),e._v(" "),l("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"payWay",label:"支付方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.payWay))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"submitTime",label:"提交时间",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"orderSource",label:"订单来源",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.orderSource))])]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e._f("filterOrderStatus")(t.row.orderStatus)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(l){e.showDetail(t.row)}}},[e._v("查看订单")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:1===t.row.orderStatus,expression:"scope.row.orderStatus === 1"}],attrs:{size:"mini"},on:{click:function(l){e.handleCloseOrder(t.row)}}},[e._v("关闭订单")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:2===t.row.orderStatus,expression:"scope.row.orderStatus === 2"}],attrs:{size:"mini"},on:{click:function(l){e.handleDeliverOrder(t.row)}}},[e._v("订单发货")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:3===t.row.orderStatus||4===t.row.orderStatus,expression:"scope.row.orderStatus === 3 || scope.row.orderStatus === 4"}],attrs:{size:"mini"},on:{click:function(l){e.handleTraceOrder(t.row)}}},[e._v("订单追踪")]),e._v(" "),l("el-button",{directives:[{name:"show",rawName:"v-show",value:5===t.row.orderStatus,expression:"scope.row.orderStatus === 5"}],attrs:{size:"mini",type:"danger"},on:{click:function(l){e.handleDeleteOrder(t.row)}}},[e._v("删除订单")])]}}])})],1),e._v(" "),l("el-col",{staticClass:"toolbar",attrs:{span:24}},[l("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",background:"","page-size":15,total:e.total,"current-page":e.page},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible,title:"订单详情"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("div",[l("el-row",{staticClass:"table-layout"},[l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("订单编号")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("用户账号")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("支付方式")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("订单来源")]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.orderSn))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.userName))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.payWay))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.orderSource))])],1),e._v(" "),l("el-row",{staticClass:"table-layout"},[l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("订单状态")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("配送方式")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("快递单号")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("收货地址")]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e._f("filterOrderStatus")(e.orderDetail.order.orderStatus)))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.deliveryCompany))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.deliverySn))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[l("el-popover",{ref:"popover",attrs:{placement:"top-start",width:"50",trigger:"focus",content:e.orderDetail.order.address}},[l("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.orderDetail.order.address))])])],1)],1),e._v(" "),l("div",{staticStyle:{"margin-top":"20px"}},[l("h4",[e._v("商品信息")])]),e._v(" "),l("el-table",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{data:e.orderDetail.orderGoods,border:""}},[l("el-table-column",{attrs:{label:"编号",prop:"goodsSn"}}),e._v(" "),l("el-table-column",{attrs:{label:"名称",prop:"goodsName"}}),e._v(" "),l("el-table-column",{attrs:{label:"图片",prop:"imageUrl"},scopedSlots:e._u([{key:"default",fn:function(e){return[l("img",{attrs:{src:e.row.imageUrl,width:"40"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"规格",prop:"specifications"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.specifications,function(t){return l("span",[e._v(e._s(t)+" ")])})}}])}),e._v(" "),l("el-table-column",{attrs:{label:"数量",prop:"number"}}),e._v(" "),l("el-table-column",{attrs:{label:"价格",prop:"price"}})],1),e._v(" "),l("div",{staticStyle:{margin:"20px 0"}},[l("h4",[e._v("费用信息")])]),e._v(" "),l("el-row",{staticClass:"table-layout"},[l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("商品金额")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("运费")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("积分减免")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("应付款")]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.goodsPrice))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.deliveryPrice))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.integralPrice))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.totalPrice))])],1),e._v(" "),e.orderDetail.order.orderStatus>2?l("div",{staticStyle:{margin:"20px 0"}},[l("h4",[e._v("快递信息")])]):e._e(),e._v(" "),e.orderDetail.order.orderStatus>2?l("el-row",{staticClass:"table-layout"},[l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:8}},[e._v("快递公司")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:8}},[e._v("快递单号")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:8}},[e._v("发货时间")]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.orderDetail.order.deliveryCompany))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.orderDetail.order.deliverySn))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:8}},[e._v(e._s(e.orderDetail.order.deliveryTime))])],1):e._e(),e._v(" "),5===e.orderDetail.order.orderStatus?l("div",{staticStyle:{margin:"20px 0"}},[l("h4",[e._v("退款信息")])]):e._e(),e._v(" "),5==e.orderDetail.order.orderStatus?l("el-row",{staticClass:"table-layout"},[l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("退款类型")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("退款金额")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("退款时间")]),e._v(" "),l("el-col",{staticClass:"table-cell table-cell-title",attrs:{span:6}},[e._v("退款备注")]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.refundType))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.refundAmount))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.refundTime))]),e._v(" "),l("el-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.orderDetail.order.refundContent))])],1):e._e()],1)])],1)},staticRenderFns:[]};var u=l("VU/8")(n,d,!1,function(e){l("FqPs")},"data-v-aff2fc46",null);t.default=u.exports}});
//# sourceMappingURL=9.c7d4f0b0f2fbe8e400c2.js.map