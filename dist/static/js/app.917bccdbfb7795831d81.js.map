{"version":3,"sources":["webpack:///./src/util/store.js","webpack:///src/App.vue","webpack:///./src/App.vue?96ab","webpack:///./src/App.vue","webpack:///./src/store/getters.js","webpack:///./src/components/HelloWorld.vue?3ba4","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/store/module/permission.js","webpack:///./src/store/module/user.js","webpack:///./src/store/index.js","webpack:///./src/mock/data/user.js","webpack:///./src/mock/data/admin.js","webpack:///./src/mock/mock.js","webpack:///./src/main.js","webpack:///./src/api/config.js","webpack:///./src/api/request.js"],"names":["setStore","params","name","type","content","obj","dataType","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","datetime","Date","getTime","window","localStorage","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","sessionStorage","getStore","getItem","JSON","parse","eval","Number","removeStore","removeItem","App","mounted","themeValue","document","documentElement","setAttribute","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","getters","addRoutes","state","permission","permission_routers","routers","roles","user","components_HelloWorld","_vm","staticClass","_v","_s","msg","_m","href","target","HelloWorld_normalizeComponent","data","Vue","use","Router","Main","resolve","e","then","bind","module","constrantRouterMap","path","iconCls","component","redirect","children","hidden","router","routes","asyncRouterMap","meta","mutations","SET_ROUTERS","concat","actions","GenerateRoutes","_ref","commit","promise_default","a","reject","accessedRouters","indexOf","filterAsyncRoutes","filter","route","some","role","hasPermission","length","token","avatar","SET_TOKEN","SET_NAME","SET_AVATAR","SET_ROLES","loginAction","userInfo","requestLogin","resp","success","accessToken","catch","getInfo","_ref2","username","userAvatar","FDLogout","_ref3","Vuex","store","Store","modules","LoginUsers","password","User","Mock","Random","cname","image","color","sex","integer","UserList","i","push","mock","age|18-60","birth","date","addr","province","city","county","AdminList","registime","roles|1","_UserList","_AdminList","bootstrap","MockAdapter","axios","onGet","reply","onPost","config","_JSON$parse","setTimeout","_User","assign_default","hasUser","u","code","page","userList","userListResult","slice","total","users","adminList","admin","adminListResult","_JSON$parse2","_JSON$parse3","ids","split","include","_JSON$parse4","age","_JSON$parse5","ElementUI","productionTip","beforeEach","to","from","next","console","log","dispatch","options","replace","alert","el","h","api","base1","base","login","removeUser","batchRemove","editUser","addUser","d","__webpack_exports__","getUserList","getAdminList","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1__config__","param","post","res","get"],"mappings":"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","file":"static/js/app.917bccdbfb7795831d81.js","sourcesContent":["export const setStore = (params) => {\r\n  const {\r\n    name,\r\n    type, //remenber\r\n    content\r\n  } = params\r\n  const obj = {\r\n    dataType: typeof(content),\r\n    content,\r\n    type,\r\n    datetime: new Date().getTime()\r\n  }\r\n  if(type) window.localStorage.setItem(name, JSON.stringify(obj))\r\n    window.sessionStorage.setItem(name, JSON.stringify(obj))\r\n}\r\n\r\nexport const getStore = (params) => { \r\n//type = true 获取localStorage，为false获取sessionStora\r\n  const {name, type} = params\r\n  let obj = {}\r\n  let content\r\n  if(type) {\r\n    obj = window.sessionStorage.getItem(name)    \r\n  } else {\r\n    obj = window.localStorage.getItem(name)\r\n  }\r\n  if(!obj) {\r\n    return ''\r\n  } else {\r\n    obj = JSON.parse(obj)\r\n  }\r\n  if(obj.dataType === 'boolean') {\r\n    content = eval(obj.content)\r\n  } else if(obj.dataType === 'number') {\r\n    content = Number(obj.content)\r\n  } else if(obj.dataType === 'string' || obj.dataType === 'object') {\r\n    content = obj.content\r\n  }\r\n  return content\r\n}\r\n\r\nexport const removeStore = (params) => {\r\n  const {name} = params\r\n  window.localStorage.removeItem(name)\r\n  window.sessionStorage.removeItem(name)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/store.js","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  mounted() {\n    let themeValue = localStorage.getItem('themeValue')\n    if(themeValue) {\n      window.document.documentElement.setAttribute('data-theme', themeValue)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import 'styles/mixin';\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-size: 14px;\n  /*text-align: center;*/\n  color: #2c3e50;\n  margin-top: 60px;\n  @include primary_color();\n}\n.toolbar {\n  background: #f2f2f2;\n  margin: 10px 0;\n  padding: 10px 10px;\n}\n.toolbar .el-form-item {\n  margin-bottom: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6879ee8c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6879ee8c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6879ee8c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","const getters = {\r\n  addRoutes: state => state.permission.addRoutes,\r\n  permission_routers: state => state.permission.routers,\r\n  roles: state => state.user.roles\r\n}\r\n\r\nexport default getters\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8ec41bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8ec41bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8ec41bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport HelloWorld from '@/components/HelloWorld'\r\n\r\nVue.use(Router)\r\n\r\nconst Main = (resolve) => {\r\n  import('components/main/main').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst Login = (resolve) => {\r\n  import('components/login/login').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst UserList = (resolve) => {\r\n  import('components/userList/userList').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst AdminList = (resolve) => {\r\n  import('components/adminList/adminList').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst Form = (resolve) => {\r\n  import('components/form/form').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nconst Chart = (resolve) => {\r\n  import('components/chart/chart').then((module) => {\r\n    resolve(module)\r\n  })\r\n}\r\nexport const constrantRouterMap = [\r\n  {\r\n      path: '/',\r\n      name: '数据管理',\r\n      iconCls: 'el-icon-message',\r\n      component: Main,\r\n      redirect: {path: '/user'},\r\n      children: [\r\n        { path: '/user', name: '用户列表', component: UserList},\r\n        {path: '/admin', name: '管理员列表', component: AdminList}\r\n      ]\r\n    },\r\n   {\r\n      path: '/',\r\n      name: 'chart',\r\n      iconCls: 'fa fa-bar-chart',\r\n      component: Main,\r\n      children: [\r\n        {\r\n          path: '/chart', name: '图表', component: Chart\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/',\r\n      name: '设置',\r\n      iconCls: 'fa fa-gear',\r\n      component: Main,\r\n      children: [\r\n        {path: '/setting', name: '设置', component:() => import('components/setting/setting')},\r\n        {path: '/mdInput', name: 'input',component: () => import('components/setting/inputdemo')}\r\n      ]\r\n    },\r\n    {\r\n      path: '/login',\r\n      component: Login,\r\n      hidden: true\r\n    }\r\n  ]\r\nexport default new Router({\r\n  routes: constrantRouterMap\r\n})\r\n\r\nexport const asyncRouterMap = [\r\n  {\r\n    path: '/',\r\n    name: '数据修改',\r\n    iconCls: 'fa fa-id-card-o',\r\n    component: Main,\r\n    meta: {\r\n      roles: ['admin']\r\n    },\r\n    children: [\r\n      {path: '/form', name: '新增用户', component: Form,meta: {roles: ['admin']}},\r\n      { path: '/upload', name: '上传表格', component: () => import('components/uploadExcel/uploadExcel'),meta: {roles: ['admin']}}\r\n    ]\r\n  },\r\n  {\r\n    path: '*',\r\n    redirect: '/404',\r\n    hidden: true\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: () => import('components/error/error'),\r\n    hidden: true\r\n  }\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import {constrantRouterMap, asyncRouterMap} from '@/router'\r\n/**\r\n * [hasPermission description]\r\n * 对传入的route进行鉴权，如果其meta.role中含有传入的roles数组中的role，返回true\r\n * @param  {[type]}  roles  [用户权限列表]\r\n * @param  {[type]}  routes [需要操作的路由(单个)，route.meta.role]\r\n * @return {Boolean}        [description]\r\n */\r\nfunction hasPermission(route, roles) {\r\n  if(route.meta && route.meta.roles) {\r\n    return roles.some(role => route.meta.roles.indexOf(role) >= 0)     \r\n  }\r\n  else {\r\n    return true\r\n  }\r\n}\r\n/**\r\n * [filterAsyncRoutes description]\r\n * 对传入的asyncRouterMap进行比较，如果其meta.role中含有传入的roles数组中的role，返回true\r\n * 然后检测是否含有children，有则对children的route进行比较\r\n * @param  {[type]} asyncRouterMap [description]\r\n * @param  {[type]} roles          [description]\r\n * @return {[type]} accessedRouters  [description]\r\n */\r\nfunction filterAsyncRoutes(asyncRouterMap, roles) {\r\n  let accessedRouters = asyncRouterMap.filter(route => {\r\n    if(hasPermission(route, roles)) {\r\n      if(route.children && route.children.length) {\r\n        route.children = filterAsyncRoutes(route.children, roles)\r\n      }\r\n      return true\r\n    }\r\n    return false\r\n  })\r\n  return accessedRouters\r\n}\r\n\r\nconst permission = {\r\n  state: {\r\n    addRoutes: [],\r\n    routers: constrantRouterMap\r\n  },\r\n  mutations: {\r\n    SET_ROUTERS: (state, routers) => {\r\n      state.addRoutes = routers\r\n      state.routers = constrantRouterMap.concat(routers) \r\n    }\r\n  },\r\n  actions: {\r\n    /**\r\n     * [GenerateRoutes description]\r\n     * 首先将函数封装成promise，然后检测role中是否含有admin，是则accessedRouters = asyncRouterMap\r\n     * 否则对asyncRouterMap进行过滤\r\n     * 返回accessedRouters\r\n     * @param {[type]} options.commit [description]\r\n     * @param {[type]} data           [description]\r\n     */\r\n    GenerateRoutes({commit}, data) {\r\n      return new Promise((resolve, reject) => {\r\n        const {roles} = data\r\n        let accessedRouters \r\n        if(roles.indexOf('admin') > 0) {\r\n          accessedRouters = asyncRouterMap\r\n        } else {\r\n          accessedRouters = filterAsyncRoutes(asyncRouterMap, roles)\r\n        }\r\n        commit('SET_ROUTERS', accessedRouters)\r\n        resolve()\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default permission\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/permission.js","import {requestLogin} from 'api/request'\r\nimport {getStore, setStore, removeStore} from '@/util/store'\r\nconst user = {\r\n  state: {\r\n      token: '',\r\n      roles: [],\r\n      name: '',\r\n      avatar: ''\r\n  },\r\n  mutations: {\r\n    SET_TOKEN: (state, token) =>{\r\n      state.token = token\r\n    },\r\n    SET_NAME: (state, name) =>{\r\n      state.name = name\r\n    },\r\n    SET_AVATAR: (state, avatar) => {\r\n      state.avatar = avatar\r\n    },\r\n    SET_ROLES: (state, roles) => {\r\n      state.roles = roles\r\n    }\r\n  },\r\n  actions: {\r\n    loginAction({commit}, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        requestLogin(userInfo).then(resp => {\r\n          if(resp && resp.success) {\r\n            commit('SET_TOKEN', resp.data.accessToken)\r\n            resolve(resp)\r\n          }\r\n        }).catch(e => {\r\n          reject('login'+e)\r\n        })\r\n      })\r\n    },\r\n    getInfo({commit, state}) {\r\n      return new Promise((resolve, reject) => {\r\n        let data = getStore({name: 'user'})\r\n        if(data.roles && data.roles.length > 0) {\r\n          commit('SET_ROLES', data.roles)\r\n        } else {\r\n          reject('getInfo: roles must be a non-null array')\r\n        }\r\n        commit('SET_NAME',data.username)\r\n        commit('SET_AVATAR', data.userAvatar)\r\n        resolve(data)\r\n      }).catch(e => {\r\n        reject(e)\r\n      })\r\n    },\r\n    FDLogout({commit}) {\r\n      return new Promise((resolve, reject) => {\r\n        setStore({name: 'user', content: ''})\r\n        commit('SET_TOKEN', '')\r\n        commit('SET_ROLES', [])\r\n        commit('SET_NAME', '')\r\n        commit('SET_AVATAR', '')\r\n        resolve()\r\n      }).catch(e => {\r\n        reject(e)\r\n      })\r\n    } \r\n  } \r\n}\r\nexport default user\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/user.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport getters from './getters'\r\nimport permission from './module/permission'\r\nimport user from './module/user'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    permission,\r\n    user\r\n  },\r\n  getters\r\n})\r\n\r\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Mock from 'mockjs'\r\nconst LoginUsers = [\r\n  {\r\n    username: 'admin',\r\n    password: '123456'\r\n  },\r\n  {\r\n    username: '123456',\r\n    password: '123456'\r\n  }\r\n]\r\nconst User = {\r\n  accessToken: Mock.Random.id(),\r\n  username: Mock.Random.cname(),\r\n  userAvatar: Mock.Random.image('300x250',Mock.Random.color()),\r\n  sex: Mock.Random.integer(0, 1),\r\n  roles: ['user']\r\n  // 'roles|1': ['user','admin']\r\n}\r\nconst UserList = []\r\n\r\nfor(let i = 0;i < 90; i++) {\r\n  UserList.push(Mock.mock({\r\n    id: Mock.Random.id(),\r\n    name: Mock.Random.cname(),\r\n    sex: Mock.Random.integer(0, 1),\r\n    'age|18-60': 1,\r\n    birth: Mock.Random.date(),\r\n    addr: Mock.Random.province() + Mock.Random.city() + Mock.Random.county()\r\n  }))\r\n}\r\nexport {LoginUsers, UserList, User}\n\n\n// WEBPACK FOOTER //\n// ./src/mock/data/user.js","import Mock from 'mockjs'\r\n\r\nconst AdminList = []\r\nfor(let i = 0; i < 40;i++) {\r\n  AdminList.push(Mock.mock({\r\n    name: Mock.Random.cname(),\r\n    registime: Mock.Random.date(),\r\n    addr: Mock.Random.province() + Mock.Random.city(),\r\n    'roles|1': ['管理员','超级管理员'] \r\n  }))\r\n}\r\nexport {AdminList}\n\n\n// WEBPACK FOOTER //\n// ./src/mock/data/admin.js","import axios from 'axios'\r\nimport MockAdapter from 'axios-mock-adapter'\r\nimport {LoginUsers, UserList, User} from './data/user'\r\nimport {AdminList} from './data/admin'\r\nlet _UserList = UserList\r\nlet _AdminList = AdminList\r\nexport default {\r\n  bootstrap() {\r\n    let mock = new MockAdapter(axios)\r\n    //mock success request\r\n    mock.onGet('/success').reply(200, {\r\n      success: true\r\n    })\r\n    //mock error request\r\n    mock.onGet('/error').reply(500, {\r\n      success: false\r\n    })\r\n    //login\r\n    mock.onPost('/api/login').reply(config => {\r\n      let {username, password} = JSON.parse(config.data)\r\n      return new Promise((resolve, reject) => {\r\n        let user = null\r\n        setTimeout(() => {\r\n          let _User = Object.assign({}, User)\r\n          // console.log(_User)\r\n          let hasUser = LoginUsers.some(u => {\r\n            if(u.username === username && u.password === password) {\r\n              _User.username = username\r\n              if(username === 'admin') {\r\n                _User.roles = ['admin']\r\n              } \r\n              return true\r\n            }\r\n          })\r\n          if(hasUser) {\r\n            resolve([200, {code: 200, success: true,msg: '登录成功',data: _User}])\r\n          } else {\r\n            resolve([200, {code: 500, success: false,msg: '登录失败！'}])\r\n          }\r\n        }, 1000)\r\n      })\r\n    })\r\n    //获取用户列表\r\n    mock.onGet('/user/list').reply(config => {\r\n      let {name, page} = config\r\n      let userList = _UserList.filter(user => {\r\n        if(name && user.name.indexOf(name) === -1) return false\r\n          return true\r\n      })\r\n      let userListResult = userList.slice((page-1) * 15,page * 15)\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve([200, {code: 200, success: true, total: userList.length, users: userListResult}])\r\n        }, 1000)\r\n      })\r\n    })\r\n    //获取管理员列表\r\n    mock.onGet('/user/admin').reply(config => {\r\n      let {name, page} = config\r\n      let adminList = _AdminList.filter(admin => {\r\n        if(name && admin.name.indexOf(name) === -1) return false\r\n          return true\r\n      })\r\n      let adminListResult = adminList.slice((page-1) * 15, page * 15)\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve([200,{success: true,total: adminList.length,users: adminListResult}])\r\n        }, 500)\r\n      })\r\n    })\r\n    //删除用户\r\n    mock.onPost('/user/remove').reply(config => {\r\n      let {accessToken, id} = JSON.parse(config.data) \r\n      if(!accessToken) {\r\n        return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            resolve([200,{success: false,msg: 'token丢失'}])\r\n          },500)\r\n        })\r\n      }\r\n      //过滤userlist\r\n      _UserList = _UserList.filter(u => u.id !== id)\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve([200,{success: true,msg: '用户删除成功'}])\r\n        },500)\r\n      })\r\n    })\r\n    //批量删除用户\r\n    mock.onPost('/user/batchremove').reply(config => {\r\n      let {accessToken, ids} = JSON.parse(config.data) \r\n      ids = ids.split(',')\r\n      if(!accessToken) {\r\n        return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            resolve([200,{success: false,msg:'token丢失'}])\r\n          }, 500)\r\n        })\r\n      }\r\n      _UserList = _UserList.filter(u =>!ids.include(u.id))\r\n      return new Promise((resolve,reject) => {\r\n        setTimeout(()=>{\r\n          resolve([200,{success: true, msg: '批量删除用户成功！'}])\r\n        },500)\r\n      })\r\n    })\r\n    //编辑用户\r\n    mock.onPost('/user/edit').reply(config => {\r\n      let {id, name, age, sex, birth, addr} = JSON.parse(config.data) \r\n      //遍历找出id,然后修改资料\r\n      _UserList.some(u => {\r\n        if(u.id === id) {\r\n          u.name = name\r\n          u.age = age\r\n          u.sex = sex\r\n          u.birth = birth\r\n          u.addr = addr\r\n          return true\r\n        }\r\n      })\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve([200,{success: true,msg: '用户资料更新成功'}])\r\n        },500)\r\n      })\r\n    })\r\n    //新增用户\r\n    mock.onPost('/user/add').reply(config => {\r\n      let {name, age, sex, birth, addr} = JSON.parse(config.data) \r\n      let hasUser = _UserList.some(user => {\r\n        if(user.name === name) {return true}\r\n        return false\r\n      })\r\n      if(hasUser) {\r\n        return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            resolve([200,{success: false,msg:'已存在用户'}])\r\n          },500)\r\n        })\r\n      }\r\n      _UserList.push({\r\n        name: name,\r\n        age: age,\r\n        sex: sex,\r\n        birth: birth,\r\n        addr: addr\r\n      })\r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          resolve([200,{success: true, msg: '用户添加成功！'}])\r\n        },500)\r\n      })\r\n    })\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mock/mock.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store'\r\nimport router from './router'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport 'font-awesome/css/font-awesome.min.css'\r\nimport Mock from './mock'\r\nimport {getStore} from '@/util/store'\r\nMock.bootstrap()\r\n\r\nVue.use(ElementUI)\r\nVue.config.productionTip = false\r\n\r\n// router.beforeEach((to, from, next) => {\r\n//   let user = JSON.parse(sessionStorage.getItem('user'))\r\n//   if(user.token) { //判断有无token\r\n//     if(to.path === '/login') {next('/')}\r\n//     else {\r\n//       if(store.getters.roles.length === 0) { \r\n//         store.dispatch('getInfo').then(data => {\r\n//           let roles = data.roles\r\n//           store.dispatch('GenerateRoutes', {roles}).then(() => {\r\n//             console.log('addRoutes', store.getters.addRoutes)\r\n//             router.addRoutes(store.getters.addRoutes)\r\n//             next({...to, replace: true}) // make sure addRoutes complete\r\n//           })\r\n//         }).catch(e => {\r\n//           alert(e)\r\n//         })\r\n//       } else {\r\n//         next() //用户有权限时直接进入下一个url\r\n//       }\r\n//     }\r\n//   } else {\r\n//     let whiteList = ['/login']\r\n//     if(whiteList.indexOf(to.path) !== -1) {\r\n//       next()\r\n//     } else {\r\n//       next({path: '/login'})\r\n//     }\r\n//   }\r\n// })\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.path === '/login') {\r\n    sessionStorage.removeItem('user')\r\n    next()\r\n    return\r\n  }\r\n  let user = getStore({name: 'user', type: true})\r\n  let roles = user.roles || []\r\n  // next()\r\n  if(!user.accessToken) {\r\n    next({path: '/login'})\r\n  } else {\r\n      console.log(store.getters.roles)\r\n    if(store.getters.roles.length === 0) { \r\n      store.dispatch('getInfo').then(data => {\r\n        let roles = data.roles\r\n        store.dispatch('GenerateRoutes', {roles}).then(() => {\r\n          let routes = store.getters.addRoutes\r\n          // console.log('addRoutes', store.getters.addRoutes)\r\n          router.options.routes = store.getters.permission_routers //router.options.routes 不是响应式的，需要手动设置\r\n          router.addRoutes(routes)\r\n          next({...to, replace: true}) // make sure addRoutes complete\r\n        })\r\n      }).catch(e => {\r\n        alert(e)\r\n      })\r\n    } else {\r\n      next() //用户有权限时直接进入下一个url\r\n    }\r\n  }\r\n})\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  // components: { App },\r\n  // template: '<App/>',\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\r\nexport const header = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type':'application/json'\r\n    // 'Connection': 'close'\r\n  }\r\n}\r\n\r\nexport const api = {\r\n  base1: 'http://rap2api.taobao.org/app/mock/119360/',\r\n  base: '/',\r\n  login: 'api/login',\r\n  userList: 'user/list',\r\n  adminList: 'user/admin',\r\n  removeUser: 'user/remove',\r\n  batchRemove: 'user/batchremove',\r\n  editUser: 'user/edit',\r\n  addUser: 'user/add'\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","import axios from 'axios'\r\nimport {api} from './config'\r\n\r\nexport const requestLogin = param => { return axios.post(api.base + api.login, param).then(res => res.data)}\r\n\r\nexport const getUserList = param => { return axios.get(api.base + api.userList, param).then(res => res.data)}\r\n\r\nexport const getAdminList = param => { return axios.get(api.base + api.adminList, param).then(res => res.data)}\r\n\r\nexport const removeUser = param => { return axios.post(api.base + api.removeUser, param).then(res => res.data)}\r\n\r\nexport const batchRemove = param => { return axios.post(api.base + api.batchRemove, param).then(res => res.data)}\r\n\r\nexport const editUser = param => { return axios.post(api.base + api.editUser, param).then(res => res.data)}\r\n\r\nexport const addUser = param => { return axios.post(api.base + api.addUser, param).then(res => res.data)}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/request.js"],"sourceRoot":""}